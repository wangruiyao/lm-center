(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderChangeInfo"],{"4da5":function(e,t,o){var n=o("9f8f");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=o("85cb").default;r("717661a8",n,!0,{sourceMap:!1,shadowMode:!1})},9597:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"lm-container",attrs:{id:"order-change-info"}},[o("lm-header",[o("span",{attrs:{slot:"left"},slot:"left"},[e._v("修改订单信息")]),o("div",{attrs:{slot:"right"},slot:"right"},[o("span",{staticClass:"lm-icon icon iconfont"},[e._v("")])])]),o("div",{staticClass:"change-info-form"},[o("div",{staticClass:"back-person-box"},[o("lm-cell",{attrs:{title:"开户人姓名：",disable:!0,"font-large":!0}},[o("div",{staticClass:"cell-input",attrs:{slot:"cellInput"},slot:"cellInput"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.customerInfo.customername,expression:"customerInfo.customername"}],attrs:{placeholder:"请输入机主姓名"},domProps:{value:e.customerInfo.customername},on:{input:function(t){t.target.composing||e.$set(e.customerInfo,"customername",t.target.value)}}})])]),o("lm-cell",{attrs:{title:"身份证号：",disable:!0,"font-large":!0}},[o("div",{staticClass:"cell-input",attrs:{slot:"cellInput"},slot:"cellInput"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.customerInfo.customeridnumber,expression:"customerInfo.customeridnumber"}],attrs:{placeholder:"请输入机主身份证号"},domProps:{value:e.customerInfo.customeridnumber},on:{input:function(t){t.target.composing||e.$set(e.customerInfo,"customeridnumber",t.target.value)}}})])]),o("lm-cell",{attrs:{title:"证件地址：",disable:!0,"font-large":!0}},[o("div",{staticClass:"cell-input",attrs:{slot:"cellInput"},slot:"cellInput"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.customerInfo.customeridaddr,expression:"customerInfo.customeridaddr"}],attrs:{placeholder:"请输入机主身份证地址"},domProps:{value:e.customerInfo.customeridaddr},on:{input:function(t){t.target.composing||e.$set(e.customerInfo,"customeridaddr",t.target.value)}}})])]),o("lm-cell",{attrs:{title:"上传证件照","font-large":!0},on:{click:function(t){return e.goUpdateIdCard()}}},[o("span",{directives:[{name:"show",rawName:"v-show",value:!e.customerImgType,expression:"!customerImgType"}],staticClass:"cell-right-text-red",attrs:{slot:"right-text"},slot:"right-text"},[e._v("未上传")]),o("span",{directives:[{name:"show",rawName:"v-show",value:e.customerImgType,expression:"customerImgType"}],staticClass:"cell-right-text-blue",attrs:{slot:"right-text"},slot:"right-text"},[e._v("已上传")])])],1),o("div",{staticClass:"back-person-box"},[o("lm-cell",{attrs:{title:"联系人姓名：",disable:!0,"font-large":!0}},[o("div",{staticClass:"cell-input",attrs:{slot:"cellInput"},slot:"cellInput"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.consigneeInfo.consigneename,expression:"consigneeInfo.consigneename"}],attrs:{placeholder:"请输入联系人姓名"},domProps:{value:e.consigneeInfo.consigneename},on:{input:function(t){t.target.composing||e.$set(e.consigneeInfo,"consigneename",t.target.value)}}})])]),o("lm-cell",{attrs:{title:"联系电话：",disable:!0,"font-large":!0}},[o("div",{staticClass:"cell-input",attrs:{slot:"cellInput"},slot:"cellInput"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.consigneeInfo.consigneephone,expression:"consigneeInfo.consigneephone"}],attrs:{placeholder:"请输入联系电话"},domProps:{value:e.consigneeInfo.consigneephone},on:{input:function(t){t.target.composing||e.$set(e.consigneeInfo,"consigneephone",t.target.value)}}})])]),o("div",{directives:[{name:"show",rawName:"v-show",value:1!==e.orderType,expression:"orderType !== 1"}]},[o("lm-cell",{attrs:{title:"收货地址：","font-large":!0},on:{click:e.goUpdateCityInfo}},[o("div",{staticClass:"cell-input",attrs:{slot:"cellInput"},slot:"cellInput"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.consigneeText,expression:"consigneeText"}],domProps:{value:e.consigneeText},on:{input:function(t){t.target.composing||(e.consigneeText=t.target.value)}}})])]),o("lm-cell",{attrs:{title:"详细地址：",disable:!0,"font-large":!0}},[o("div",{staticClass:"cell-input",attrs:{slot:"cellInput"},slot:"cellInput"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.consigneeInfo.consigneeaddress,expression:"consigneeInfo.consigneeaddress"}],attrs:{placeholder:"请输入详细收货地址（街道、小区、楼号...）"},domProps:{value:e.consigneeInfo.consigneeaddress},on:{input:function(t){t.target.composing||e.$set(e.consigneeInfo,"consigneeaddress",t.target.value)}}})])])],1),o("div",{directives:[{name:"show",rawName:"v-show",value:1===e.orderType,expression:"orderType === 1"}]},[o("lm-cell",{attrs:{title:"查询宽带标准地址",disable:!0,"font-large":!0,rightStyle:e.rightStyle},on:{click:function(t){return e.go("orderDetailChangeInfoBroadBand")}}},[o("div",{staticClass:"right-info",attrs:{slot:"right-text"},slot:"right-text"},[o("span",{staticClass:"lm-icon icon iconfont address"},[e._v("")])])]),o("lm-cell",{attrs:{title:"装机地址",disable:!0,rightStyle:e.rightStyle,"font-large":!0}},[o("div",{staticClass:"cell-input",attrs:{slot:"cellInput"},slot:"cellInput"},[o("nut-textinput",{attrs:{placeholder:"请填写或查询宽带装机地址",disabled:!1,clearBtn:!1,hasBorder:!1},model:{value:e.consigneeInfo.installaddr,callback:function(t){e.$set(e.consigneeInfo,"installaddr",t)},expression:"consigneeInfo.installaddr"}})],1)])],1)],1),o("div",{staticClass:"confirm-btn",on:{click:e.confirm}},[e._v("提交")]),o("lm-border-bar"),o("transition",{attrs:{"enter-active-class":e.$route.meta.pageIn,"leave-active-class":e.$route.meta.pageOut}},[o("keep-alive",[o("router-view",{on:{getAddr:e.getAddr,getBroadBandAddress:e.getBroadBandAddress,setCustomerImg:e.setCustomerImg}})],1)],1)],1)],1)},r=[],s=o("f8b7");const a=e=>o.e("chunk-1ce754d8").then(function(){var t=[o("83e6")];e.apply(null,t)}.bind(this)).catch(o.oe),c=e=>o.e("chunk-4c7d6adb").then(function(){var t=[o("9335")];e.apply(null,t)}.bind(this)).catch(o.oe),i=e=>o.e("chunk-2557159a").then(function(){var t=[o("8b1a")];e.apply(null,t)}.bind(this)).catch(o.oe);var d={name:"OrderChangeInfo",components:{LmBorderBar:a,LmCell:i,LmHeader:c},data(){return{orderId:"",orderType:0,backPersonReason:0,consigneeText:"",customerImgType:!1,customerInfo:{customername:"",customeridnumber:"",customeridfrontimg:"",customeridreverseimg:"",customerinhandimg:"",customeridaddr:""},consigneeInfo:{installaddr:"",consigneename:"",consigneephone:"",consigneeprovince:"",consigneecity:"",consigneecounty:"",consigneeaddress:""},rightStyle:{color:"#333"}}},mounted(){this.getBackPersonReason()},methods:{getBackPersonReason(){const e=JSON.parse(this.$route.params.flag);this.backPersonReason=e.flag,this.orderId=e.orderId,this.orderType=e.orderType},goUpdateIdCard(){goforward("orderDetailChangeInfoUpdateIdCard")},goUpdateCityInfo(){goforward("orderDetailChangeInfoCityPicker")},getAddr(e){this.consigneeInfo.consigneeprovince=e.provence.value,this.consigneeInfo.consigneecity=e.city.value,this.consigneeInfo.consigneecounty=e.area.value,this.consigneeText=e.provence.text+"-"+e.city.text+"-"+e.area.text},getBroadBandAddress(e){this.consigneeInfo.installaddr=e},setCustomerImg(e){this.customerImgType=!0,this.customerInfo.customeridfrontimg=e.customeridfrontimg,this.customerInfo.customeridreverseimg=e.customeridreverseimg,this.customerInfo.customerinhandimg=e.customerinhandimg},checkCustomerInfo(){const e=this.customerInfo;return/^[\u4e00-\u9fa5]{2,4}$/.test(e.customername)?/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e.customeridnumber)?""===e.customeridaddr?(Toast("请填写证件地址！"),!1):""!==e.customeridfrontimg&&""!==e.customeridreverseimg&&""!==e.customerinhandimg||(Toast("请上传证件照！"),!1):(Toast("开户人身份证填写有误！"),!1):(Toast("开户人姓名填写有误！"),!1)},CheckConsigneeInfo(){const e=this.consigneeInfo;return/^[\u4e00-\u9fa5]{2,4}$/.test(e.consigneename)?/^1(3|4|5|6|7|8|9)\d{9}$/.test(e.consigneephone)?1===this.orderType?""!==e.installaddr||(Toast("请填写装机地址！"),!1):0===this.orderType||2===this.orderType?""===e.consigneeprovince||""===e.consigneecity||""===e.consigneecounty?(Toast("请选择完整收货地址"),!1):""!==e.consigneeaddress||(Toast("请填写详细地址"),!1):void 0:(Toast("联系人电话填写有误！"),!1):(Toast("联系人姓名填写有误！"),!1)},orderMotifyUser(e){console.log(e),Object(s["p"])(e).then(e=>{})},confirm(){if(1===this.backPersonReason){if(!this.checkCustomerInfo())return!1}else if(2===this.backPersonReason){if(!this.CheckConsigneeInfo())return!1}else if(0===this.backPersonReason&&(!this.checkCustomerInfo()||!this.CheckConsigneeInfo()))return!1;const e={orderid:this.orderId,...this.customerInfo,...this.consigneeInfo};this.orderMotifyUser(e)},go(e){goforward(e)}}},l=d,u=(o("ba93"),o("17cc")),f=Object(u["a"])(l,n,r,!1,null,"007eb5f2",null);t["default"]=f.exports},"9f8f":function(e,t,o){t=e.exports=o("690e")(!1),t.push([e.i,"#order-change-info[data-v-007eb5f2]{background:#f2f2f2;z-index:999}#order-change-info .cell-input[data-v-007eb5f2]{color:#666}#order-change-info .change-info-form .back-person-box[data-v-007eb5f2]{background:#fff;margin-top:.266667rem}#order-change-info .change-info-form .back-person-box .form-item[data-v-007eb5f2]{padding:0 .4rem;border-bottom:.026667rem solid #eee}#order-change-info .change-info-form .back-person-box .cell-input[data-v-007eb5f2]{width:100%}#order-change-info .change-info-form .back-person-box .cell-input input[data-v-007eb5f2]{width:100%;color:#666}#order-change-info .change-info-form .back-person-box .cell-right-text-red[data-v-007eb5f2]{white-space:nowrap;color:#ff2b5b}#order-change-info .change-info-form .back-person-box .cell-right-text-blue[data-v-007eb5f2]{white-space:nowrap;color:#5f8eee}#order-change-info .change-info-form .confirm-btn[data-v-007eb5f2]{position:fixed;bottom:0;width:10rem;height:1.173333rem;display:-webkit-flex;display:flex;flex-direction:column;justify-content:center;align-items:center;background-image:-moz-linear-gradient(176deg,#40e9f5 0,#6685fb 52%,#7460fd 75%,#7c4aff 99%);background-image:-webkit-linear-gradient(176deg,#40e9f5,#6685fb 52%,#7460fd 75%,#7c4aff 99%);background-image:-ms-linear-gradient(176deg,#40e9f5 0,#6685fb 52%,#7460fd 75%,#7c4aff 99%);font-size:.426667rem;color:#fff}",""])},ba93:function(e,t,o){"use strict";var n=o("4da5"),r=o.n(n);r.a},f8b7:function(e,t,o){"use strict";function n(e){const t="goodscenter/ordergoodsinfor";return ajax({url:t,method:"post",data:e,catchError:!0})}function r(e){const t="ordercenter/orderserialnumberarea";return ajax({url:t,method:"post",data:e,catchError:!0})}function s(e){const t="goodscenter/orderserialnumber";return ajax({url:t,method:"post",data:e,catchError:!0})}function a(e){const t="lm/effecttype.json";return ajax({url:t,method:"get",catchError:!1})}function c(e){const t="ordercenter/createorder";return ajax({url:t,method:"post",data:e,catchError:!1})}function i(e){const t="ordercenter/createphysicalorder";return ajax({url:t,method:"post",data:e,catchError:!1})}function d(e){console.log(e);const t="ordercenter/uploadimage";return ajax({url:t,method:"post",type:"formData",data:e,catchError:!1})}function l(e){const t="ordercenter/orderlistbycondition";return ajax({url:t,method:"post",data:e,catchError:!1})}function u(e){const t="ordercenter/orderlistbykeywords";return ajax({url:t,method:"post",data:e,catchError:!1})}function f(e){const t="ordercenter/orderdetailbyid";return ajax({url:t,method:"post",data:e,catchError:!0})}function m(e){const t="ordercenter/ordermotifyuser";return ajax({url:t,method:"post",data:e,catchError:!0})}function g(e){const t="lm/applyrefundreason.json";return ajax({url:t,method:"get",catchError:!1})}function p(e){const t="ordercenter/applyrefundgood";return ajax({url:t,method:"post",data:e,catchError:!0})}function h(e){const t="ordercenter/getrefundlist";return ajax({url:t,method:"post",data:e,catchError:!0})}function v(e){const t="ordercenter/getrefundinfor";return ajax({url:t,method:"post",data:e,catchError:!0})}function b(e){const t="ordercenter/getusertradenum";return ajax({url:t,method:"post",data:e,catchError:!0})}function I(e){const t="ordercenter/confirmorder";return ajax({url:t,method:"post",data:e,catchError:!0})}function x(e){const t="common/displayimg";return ajax({url:t,method:"post",data:e,catchError:!0})}function y(e){const t="ordercenter/getrefundgoodsinfor";return ajax({url:t,method:"post",data:e,catchError:!0})}o.d(t,"m",function(){return n}),o.d(t,"r",function(){return r}),o.d(t,"q",function(){return s}),o.d(t,"g",function(){return a}),o.d(t,"d",function(){return c}),o.d(t,"e",function(){return i}),o.d(t,"s",function(){return d}),o.d(t,"n",function(){return l}),o.d(t,"o",function(){return u}),o.d(t,"l",function(){return f}),o.d(t,"p",function(){return m}),o.d(t,"b",function(){return g}),o.d(t,"a",function(){return p}),o.d(t,"j",function(){return h}),o.d(t,"i",function(){return v}),o.d(t,"k",function(){return b}),o.d(t,"c",function(){return I}),o.d(t,"f",function(){return x}),o.d(t,"h",function(){return y})}}]);