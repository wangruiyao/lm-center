(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderRefundApply","chunk-4c7d6adb","chunk-7eedab92","chunk-7eedab92"],{"144c":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lm-container",attrs:{id:"order-refund-apply"}},[r("lm-header",{attrs:{title:"退款申请"}},[r("div",{staticClass:"header-right",attrs:{slot:"right"},slot:"right"},[r("span",{staticClass:"icon iconfont"},[e._v("")])])]),r("lm-scroll",{ref:"wrapper",attrs:{pullup:!0,listenScroll:!0}},[r("div",{staticClass:"apply-box"},[r("div",{staticClass:"good-info"},[r("img",{attrs:{src:e.refundGoodsInfo.goodspic}}),r("div",{staticClass:"info"},[r("div",{staticClass:"goods-detail-top"},[r("span",{staticClass:"title"},[e._v(e._s(e.refundGoodsInfo.goodsname))]),r("span",{staticClass:"detail"},[e._v(e._s(e.refundGoodsInfo.goodstitle))]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.refundGoodsInfo.serialnumber,expression:"refundGoodsInfo.serialnumber"}],staticClass:"title good-spec"},[e._v("\n              开户号码\n              "),r("span",[e._v(e._s(e.refundGoodsInfo.serialnumber))])])]),r("div",{staticClass:"goods-detail-bottom"},[r("span",{staticClass:"order-price"},[e._v("￥"),r("span",[e._v(e._s((Number(e.refundGoodsInfo.price)/100).toFixed(2)))])]),r("span",{staticClass:"good-number"},[e._v("x"),r("span",[e._v(e._s(e.refundGoodsInfo.amount))])])])])]),r("div",{staticClass:"refund-result-info"},[r("div",{staticClass:"refund-result"},[r("span",[e._v("退款原因 :")]),r("div",{staticClass:"result-check-box",on:{click:function(t){return e.switchActionSheet("refundResultVisible")}}},[e._v(e._s(e.chooseResult))])]),r("div",{staticClass:"refund-desc"},[r("span",[e._v("退款说明 :")]),r("div",{staticClass:"result-desc-box"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.refundAppleParams.handleremark,expression:"refundAppleParams.handleremark"}],staticClass:"text",domProps:{value:e.refundAppleParams.handleremark},on:{input:function(t){t.target.composing||e.$set(e.refundAppleParams,"handleremark",t.target.value)}}})])]),r("div",{staticClass:"refund-img"},[r("span",[e._v("上传图片 :")]),r("div",{staticClass:"result-desc-box"},[r("nut-imagepicker",{attrs:{max:3,width:55,height:55,imgList:e.picDescList},on:{imgMsg:e.imgMsg}})],1)])]),r("div",{staticClass:"refund-footer"},[r("div",{staticClass:"handle-confirm-btn",on:{click:e.confirm}})])])]),r("nut-actionsheet",{attrs:{"is-visible":e.refundResultVisible,"menu-items":e.refundResultList,cancelTxt:"取消"},on:{choose:e.chooseRefundResult,close:function(t){return e.switchActionSheet("refundResultVisible")}}})],1)},a=[];function n(e){const t="common/uploadpictures";return ajax({url:t,method:"post",type:"formData",data:e,catchError:!1})}var i=r("f8b7"),s=r("9335"),d=r("1ff0"),l={name:"OrderRefundApply",components:{LmScroll:d["default"],LmHeader:s["default"]},data(){return{refundResultVisible:!1,refundResultList:[],picDescList:[],chooseResult:"",refundGoodsInfo:{},refundAppleParams:{orderid:"",goodsid:"",handlereason:"",handleremark:"",picdesc:""}}},mounted(){const e=JSON.parse(this.$route.params.orderinfo);this.refundAppleParams.orderid=e.orderid,this.refundAppleParams.goodsid=e.goodsid,this.applyRefundReason(),this.getRefundGoodsInfor()},methods:{getRefundGoodsInfor(){Object(i["h"])({orderid:this.refundAppleParams.orderid,goodsid:this.refundAppleParams.goodsid}).then(e=>{this.refundGoodsInfo=e.data,console.log(e)})},applyRefundReason(){Object(i["b"])().then(e=>{this.refundResultList=e.map(e=>{return e.value=e.id,delete e.id,e})})},switchActionSheet(e){this[`${e}`]=!this[`${e}`]},chooseRefundResult(e){this.chooseResult=e.name,this.refundAppleParams.handlereason=e.name},showRefundPopup(){this.refundResultVisible=!0},imgMsg(e){3===e.code&&(this.picDescList=this.picDescList.filter(t=>{return t.id!==e.msg}))},async uploadPic(){const e=this;for(let t=0;t<this.picDescList.length;t++)await n({fileType:1,fileStream:e.picDescList[t].src}).then(e=>{t===this.picDescList.length-1?this.refundAppleParams.picdesc+=e.data.respidcard:this.refundAppleParams.picdesc+=e.data.respidcard+","})},confirm(){if(""===this.refundAppleParams.handlereason)return Toast("请选择退款原因"),!1;Message.confirm("确定提交退款？").then(e=>{this.uploadPic().then(()=>{const e=JSON.parse(JSON.stringify(this.refundAppleParams));Object(i["a"])(e).then(e=>{console.log(e),Toast("退款成功").then(()=>{goback()})})})}).catch(e=>{})}}},c=l,u=(r("c138"),r("17cc")),f=Object(u["a"])(c,o,a,!1,null,"34b241d4",null);t["default"]=f.exports},"1ff0":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"wrapper",staticClass:"scroll-container"},[r("div",{staticClass:"scroll-inner"},[e._t("default")],2)])},a=[],n=r("ecd2"),i={props:{probeType:{type:Number,default:3},click:{type:Boolean,default:!0},listenScroll:{type:Boolean,default:!1},data:{},pullup:{},refreshDelay:{type:Number,default:20},swipeBounceTime:{type:Number,default:800},momentumLimitTime:{type:Number,default:200},bounceTime:{type:Number,default:600},startY:{type:Number,default:0},bounce:{type:Boolean,default:!0}},mounted(){setTimeout(()=>{this._initScroll()},20)},methods:{_initScroll(){if(this.$refs.wrapper){if(this.scroll=new n["a"](this.$refs.wrapper,{probeType:this.probeType,click:this.click,swipeBounceTime:this.swipeBounceTime,bounceTime:this.bounceTime,momentumLimitTime:this.momentumLimitTime,scrollY:!0,scrollX:!1,startY:this.startY,pullUpLoad:this.pullup,mouseWheel:!0,bounce:this.bounce}),this.$emit("setScroll",this.scroll),this.listenScroll){let e=this;this.scroll.on("scroll",t=>{e.$emit("scroll",t)})}this.pullup&&this.scroll.on("pullingUp",()=>{this.$emit("scrollToEnd",this.scroll)}),this.beforeScroll&&this.scroll.on("beforeScrollStart",()=>{this.$emit("beforeScroll")})}},disable(){this.scroll&&this.scroll.disable()},enable(){this.scroll&&this.scroll.enable()},refresh(){this.scroll&&this.scroll.refresh()},scrollTo(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)},test(e,t,r,o,a){}},watch:{data(){setTimeout(()=>{this.refresh()},this.refreshDelay)}}},s=i,d=(r("e89c"),r("17cc")),l=Object(d["a"])(s,o,a,!1,null,"2abaff42",null);t["default"]=l.exports},"24e1":function(e,t,r){t=e.exports=r("690e")(!1),t.push([e.i,".scroll-container[data-v-2abaff42]{height:17.786667rem;margin-top:.266667rem}.scroll-container .scroll-inner[data-v-2abaff42]{min-height:17.813333rem;padding-bottom:2.666667rem}",""])},"3eaa":function(e,t,r){t=e.exports=r("690e")(!1),t.push([e.i,"#lm-header[data-v-5c4d6562]{position:fixed;display:-webkit-flex;display:flex;justify-content:space-between;align-items:center;height:1.173333rem;width:10rem;font-size:.426667rem;color:#424242;top:0;z-index:999}#lm-header .headerName[data-v-5c4d6562]{font-size:.48rem}.header-back[data-v-5c4d6562]{padding-left:.266667rem;display:-webkit-flex;display:flex;justify-content:center;align-items:center}.header-back>span[data-v-5c4d6562]{font-size:.48rem;line-height:.48rem}.header-right-icon[data-v-5c4d6562]{display:-webkit-flex;display:flex;justify-content:center;align-items:center;width:1.066667rem;text-align:center}.click-more-box[data-v-5c4d6562]{position:fixed;width:10rem;height:4rem;background:rgba(0,0,0,.6)}",""])},"51dd":function(e,t,r){var o=r("24e1");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=r("85cb").default;a("30efbce5",o,!0,{sourceMap:!1,shadowMode:!1})},9335:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{style:{background:e.background,opacity:e.opacity,borderBottom:e.border,color:e.color},attrs:{id:"lm-header"}},[r("div",{staticClass:"header-back",on:{click:e.back}},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.showBack,expression:"showBack"}],staticClass:"lm-icon icon iconfont"},[e._v("")]),e._t("left")],2),r("div",{staticClass:"headerName"},[e._v("\n    "+e._s(e.title)+"\n    "),e._t("center")],2),r("div",{staticClass:"header-right-icon",on:{click:e.handleMoreClick}},[e._t("right")],2)])},a=[],n=(r("6e87"),{name:"LmHeader",components:{},props:{opacity:{type:Number,default:1},background:{type:String,default:"#fff"},showBack:{type:Boolean,default:!0},title:{type:String},border:{type:String,default:"solid #eee 1px"},color:{type:String,default:"#424242"},backParams:{type:Object,default:()=>{}}},methods:{back(){goback(this.backParams)},handleMoreClick(){this.$moreTools.show()}}}),i=n,s=(r("a5b2"),r("17cc")),d=Object(s["a"])(i,o,a,!1,null,"5c4d6562",null);t["default"]=d.exports},a5b2:function(e,t,r){"use strict";var o=r("d4b2"),a=r.n(o);a.a},a7c8:function(e,t,r){t=e.exports=r("690e")(!1),t.push([e.i,'@charset "UTF-8";#order-refund-apply[data-v-34b241d4]{background:#f2f2f2;display:-webkit-flex;display:flex;flex-direction:column;justify-content:space-between;align-items:center}#order-refund-apply .apply-box[data-v-34b241d4]{padding:.266667rem;width:9.333333rem;background:#fff;box-shadow:0 .053333rem .053333rem 0 rgba(0,0,0,.13);border-radius:.106667rem}#order-refund-apply .apply-box .good-info[data-v-34b241d4]{position:relative;display:-webkit-flex;display:flex;justify-content:baseline;align-items:center;align-items:stretch;padding-bottom:.666667rem}#order-refund-apply .apply-box .good-info>img[data-v-34b241d4]{flex-shrink:0;width:2.933333rem;height:2.933333rem}#order-refund-apply .apply-box .good-info .info[data-v-34b241d4]{flex-grow:1;margin-left:.266667rem;padding-left:.266667rem;overflow:hidden;display:-webkit-flex;display:flex;flex-direction:column;justify-content:space-between;align-items:stretch}#order-refund-apply .apply-box .good-info .info .goods-detail-top[data-v-34b241d4]{overflow:hidden;display:-webkit-flex;display:flex;flex-direction:column;justify-content:baseline;align-items:baseline}#order-refund-apply .apply-box .good-info .info .goods-detail-top>span[data-v-34b241d4]{width:100%}#order-refund-apply .apply-box .good-info .info .goods-detail-top .title[data-v-34b241d4]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#order-refund-apply .apply-box .good-info .info .goods-detail-top .detail[data-v-34b241d4]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;color:#999}#order-refund-apply .apply-box .good-info .info .goods-detail-top .good-spec[data-v-34b241d4]{margin-top:.213333rem}#order-refund-apply .apply-box .good-info .info .goods-detail-bottom[data-v-34b241d4]{width:100%}#order-refund-apply .apply-box .good-info .info .goods-detail-bottom .order-price>span[data-v-34b241d4]{color:#ff2d00;font-size:.426667rem}#order-refund-apply .apply-box .good-info .info .goods-detail-bottom .good-number[data-v-34b241d4]{margin-left:.266667rem}#order-refund-apply .apply-box .good-info .info .goods-detail-bottom .good-number>span[data-v-34b241d4]{font-size:.426667rem}#order-refund-apply .apply-box .good-info[data-v-34b241d4] :after{content:"";position:absolute;bottom:0;left:-.266667rem;right:-.266667rem;height:.026667rem;background:linear-gradient(87deg,#348cf7,#ec068f);opacity:.1}#order-refund-apply .apply-box .refund-result-info[data-v-34b241d4]{padding:.666667rem;font-size:.373333rem}#order-refund-apply .apply-box .refund-result-info .refund-result[data-v-34b241d4]{display:-webkit-flex;display:flex;justify-content:space-between;align-items:center}#order-refund-apply .apply-box .refund-result-info .refund-result>span[data-v-34b241d4]{margin-right:.266667rem}#order-refund-apply .apply-box .refund-result-info .refund-result .result-check-box[data-v-34b241d4]{flex-grow:1;height:.666667rem;border:.026667rem solid hsla(0,0%,40%,.51);padding:0 .133333rem}#order-refund-apply .apply-box .refund-result-info .refund-desc[data-v-34b241d4]{margin-top:.266667rem;display:-webkit-flex;display:flex;justify-content:baseline;align-items:flex-start}#order-refund-apply .apply-box .refund-result-info .refund-desc>span[data-v-34b241d4]{margin-right:.266667rem}#order-refund-apply .apply-box .refund-result-info .refund-desc .result-desc-box[data-v-34b241d4]{flex-grow:1}#order-refund-apply .apply-box .refund-result-info .refund-desc .result-desc-box textarea[data-v-34b241d4]{height:2rem;width:100%;border:.026667rem solid hsla(0,0%,40%,.51)}#order-refund-apply .apply-box .refund-result-info .refund-img[data-v-34b241d4]{margin-top:.266667rem;display:-webkit-flex;display:flex;justify-content:baseline;align-items:center}#order-refund-apply .apply-box .refund-result-info .refund-img>span[data-v-34b241d4]{margin-right:.266667rem}#order-refund-apply .apply-box .refund-footer[data-v-34b241d4]{padding-right:.533333rem;display:-webkit-flex;display:flex;justify-content:flex-end;align-items:center}#order-refund-apply .apply-box .refund-footer .handle-confirm-btn[data-v-34b241d4]{position:relative;border-radius:.106667rem;background-image:-moz-linear-gradient(0deg,#5befe1 0,#6984ee 50%,#c372e6 100%);background-image:-webkit-linear-gradient(0deg,#5befe1,#6984ee 50%,#c372e6);background-image:-ms-linear-gradient(0deg,#5befe1 0,#6984ee 50%,#c372e6 100%);width:1.386667rem;height:.8rem;border-radius:.133333rem}#order-refund-apply .apply-box .refund-footer .handle-confirm-btn[data-v-34b241d4]:after{content:"\\63D0\\4EA4";position:absolute;top:.026667rem;bottom:.026667rem;left:.026667rem;right:.026667rem;background:#fff;-webkit-border-radius:.133333rem;-moz-border-radius:.133333rem;border-radius:.133333rem;color:#7069fd;font-size:.373333rem;display:-webkit-flex;display:flex;flex-direction:column;justify-content:center;align-items:center}',""])},c138:function(e,t,r){"use strict";var o=r("cc27"),a=r.n(o);a.a},cc27:function(e,t,r){var o=r("a7c8");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=r("85cb").default;a("13e90717",o,!0,{sourceMap:!1,shadowMode:!1})},d4b2:function(e,t,r){var o=r("3eaa");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=r("85cb").default;a("0dafdf9c",o,!0,{sourceMap:!1,shadowMode:!1})},e89c:function(e,t,r){"use strict";var o=r("51dd"),a=r.n(o);a.a},f8b7:function(e,t,r){"use strict";function o(e){const t="goodscenter/ordergoodsinfor";return ajax({url:t,method:"post",data:e,catchError:!0})}function a(e){const t="ordercenter/orderserialnumberarea";return ajax({url:t,method:"post",data:e,catchError:!0})}function n(e){const t="goodscenter/orderserialnumber";return ajax({url:t,method:"post",data:e,catchError:!0})}function i(e){const t="lm/effecttype.json";return ajax({url:t,method:"get",catchError:!1})}function s(e){const t="ordercenter/createorder";return ajax({url:t,method:"post",data:e,catchError:!1})}function d(e){const t="ordercenter/createphysicalorder";return ajax({url:t,method:"post",data:e,catchError:!1})}function l(e){console.log(e);const t="ordercenter/uploadimage";return ajax({url:t,method:"post",type:"formData",data:e,catchError:!1})}function c(e){const t="ordercenter/orderlistbycondition";return ajax({url:t,method:"post",data:e,catchError:!1})}function u(e){const t="ordercenter/orderlistbykeywords";return ajax({url:t,method:"post",data:e,catchError:!1})}function f(e){const t="ordercenter/orderdetailbyid";return ajax({url:t,method:"post",data:e,catchError:!0})}function p(e){const t="ordercenter/ordermotifyuser";return ajax({url:t,method:"post",data:e,catchError:!0})}function m(e){const t="lm/applyrefundreason.json";return ajax({url:t,method:"get",catchError:!1})}function h(e){const t="ordercenter/applyrefundgood";return ajax({url:t,method:"post",data:e,catchError:!0})}function b(e){const t="ordercenter/getrefundlist";return ajax({url:t,method:"post",data:e,catchError:!0})}function g(e){const t="ordercenter/getrefundinfor";return ajax({url:t,method:"post",data:e,catchError:!0})}function y(e){const t="ordercenter/getusertradenum";return ajax({url:t,method:"post",data:e,catchError:!0})}function x(e){const t="ordercenter/confirmorder";return ajax({url:t,method:"post",data:e,catchError:!0})}function v(e){const t="common/displayimg";return ajax({url:t,method:"post",data:e,catchError:!0})}function w(e){const t="ordercenter/getrefundgoodsinfor";return ajax({url:t,method:"post",data:e,catchError:!0})}r.d(t,"m",function(){return o}),r.d(t,"r",function(){return a}),r.d(t,"q",function(){return n}),r.d(t,"g",function(){return i}),r.d(t,"d",function(){return s}),r.d(t,"e",function(){return d}),r.d(t,"s",function(){return l}),r.d(t,"n",function(){return c}),r.d(t,"o",function(){return u}),r.d(t,"l",function(){return f}),r.d(t,"p",function(){return p}),r.d(t,"b",function(){return m}),r.d(t,"a",function(){return h}),r.d(t,"j",function(){return b}),r.d(t,"i",function(){return g}),r.d(t,"k",function(){return y}),r.d(t,"c",function(){return x}),r.d(t,"f",function(){return v}),r.d(t,"h",function(){return w})}}]);